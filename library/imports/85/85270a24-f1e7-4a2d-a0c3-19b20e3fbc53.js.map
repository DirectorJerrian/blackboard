{"version":3,"sources":["..\\..\\..\\assets/assets\\register.js"],"names":["cc","Class","extends","Component","properties","result","default","type","Label","department","EditBox","email","nickname","password","passwordAgain","register","IsEmail","str","reg","test","string","length","information","_http","http","res","node","runAction","sequence","delayTime","callFunc","director","loadScene","start"],"mappings":";;;;;;AASA;;;;;;AAA2B;AAC3BA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,gBAAO;AACHC,qBAAQ,IADL;AAEHC,kBAAKP,GAAGQ;AAFL,SADC;AAKRC,oBAAW;AACPH,qBAAQ,IADD;AAEPC,kBAAKP,GAAGU;AAFD,SALH;AASRC,eAAM;AACFL,qBAAQ,IADN;AAEFC,kBAAKP,GAAGU;AAFN,SATE;AAaRE,kBAAS;AACLN,qBAAQ,IADH;AAELC,kBAAKP,GAAGU;AAFH,SAbD;AAiBRG,kBAAS;AACLP,qBAAQ,IADH;AAELC,kBAAKP,GAAGU;AAFH,SAjBD;AAqBRI,uBAAc;AACVR,qBAAQ,IADE;AAEVC,kBAAKP,GAAGU;AAFE;;AAKd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxCQ,KAHP;;AA8CL;;AAEA;;;AAGAK,cAAS,oBAAU;AAAA;;AACf,iBAASC,OAAT,CAAiBC,GAAjB,EAAsB;AAClB,gBAAIC,MAAI,8CAAR;AACA,mBAAOA,IAAIC,IAAJ,CAASF,GAAT,CAAP;AACH;;AAED,YAAGD,QAAQ,KAAKL,KAAL,CAAWS,MAAnB,MAA+B,IAAlC,EAAuC;AACnC,iBAAKf,MAAL,CAAYe,MAAZ,GAAmB,eAAnB;AACA,iBAAKT,KAAL,CAAWS,MAAX,GAAkB,EAAlB;AACA;AACH;AACD,YAAG,KAAKP,QAAL,CAAcO,MAAd,IAAsB,IAAzB,EAA8B;AAC1B,gBAAG,KAAKP,QAAL,CAAcO,MAAd,CAAqBC,MAArB,GAA4B,CAA/B,EAAiC;AAC7B,qBAAKhB,MAAL,CAAYe,MAAZ,GAAmB,aAAnB;AACA,qBAAKP,QAAL,CAAcO,MAAd,GAAqB,EAArB;AACA,qBAAKN,aAAL,CAAmBM,MAAnB,GAA0B,EAA1B;AACA;AACH;AACJ;AACD,YAAG,KAAKN,aAAL,CAAmBM,MAAnB,IAA2B,KAAKP,QAAL,CAAcO,MAA5C,EAAmD;AAC/C,iBAAKf,MAAL,CAAYe,MAAZ,GAAmB,YAAnB;AACI,iBAAKP,QAAL,CAAcO,MAAd,GAAqB,EAArB;AACA,iBAAKN,aAAL,CAAmBM,MAAnB,GAA0B,EAA1B;AACA;AACP;;AAED,YAAIE,cAAY,EAAhB;AACAA,oBAAY,CAAZ,IAAe,KAAKb,UAAL,CAAgBW,MAA/B;AACAE,oBAAY,CAAZ,IAAe,KAAKX,KAAL,CAAWS,MAA1B;AACAE,oBAAY,CAAZ,IAAe,KAAKV,QAAL,CAAcQ,MAA7B;AACAE,oBAAY,CAAZ,IAAe,KAAKT,QAAL,CAAcO,MAA7B;;AAEA,YAAIG,QAAQ,IAAIC,cAAJ,EAAZ;AACAD,cAAMR,QAAN,CAAe,eAAf,EAA+BO,WAA/B,EAA2C,UAACG,GAAD,EAAO;AAC9C,kBAAKpB,MAAL,CAAYe,MAAZ,GAAmB,qBAAnB;AACA,kBAAKM,IAAL,CAAUC,SAAV,CAAoB3B,GAAG4B,QAAH,CAAY5B,GAAG6B,SAAH,CAAa,CAAb,CAAZ,EAA4B7B,GAAG8B,QAAH,CAAY,YAAU;AAAC9B,mBAAG+B,QAAH,CAAYC,SAAZ,CAAsB,IAAtB;AAA4B,aAAnD,CAA5B,CAApB;AACH,SAHD;AAIH,KAxFI;;AA0FLC,SA1FK,mBA0FI,CAER;AA5FI;;AA8FL;AA9FJ,GAVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"register.js","sourceRoot":"..\\..\\..\\assets","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\nimport http from \"./http\"; //引入模块\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        result:{\r\n            default:null,\r\n            type:cc.Label\r\n        },\r\n        department:{\r\n            default:null,\r\n            type:cc.EditBox\r\n        },\r\n        email:{\r\n            default:null,\r\n            type:cc.EditBox\r\n        },\r\n        nickname:{\r\n            default:null,\r\n            type:cc.EditBox\r\n        },\r\n        password:{\r\n            default:null,\r\n            type:cc.EditBox\r\n        },\r\n        passwordAgain:{\r\n            default:null,\r\n            type:cc.EditBox\r\n        },\r\n\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    //onLoad:function () {},\r\n\r\n    \r\n    register:function(){\r\n        function IsEmail(str) {\r\n            var reg=/^\\w+@[a-zA-Z0-9]{2,10}(?:\\.[a-z]{2,4}){1,3}$/;\r\n            return reg.test(str);\r\n        }\r\n\r\n        if(IsEmail(this.email.string) !== true){\r\n            this.result.string='输入的邮箱地址不符合格式！';\r\n            this.email.string=\"\";\r\n            return \r\n        }\r\n        if(this.password.string!=null){\r\n            if(this.password.string.length<6){\r\n                this.result.string='密码长度不得低于六位！';\r\n                this.password.string=\"\";\r\n                this.passwordAgain.string=\"\";\r\n                return\r\n            }\r\n        }\r\n        if(this.passwordAgain.string!=this.password.string){\r\n            this.result.string='两次输入密码不一致！';\r\n                this.password.string=\"\";\r\n                this.passwordAgain.string=\"\";\r\n                return\r\n        }\r\n\r\n        var information=[];\r\n        information[0]=this.department.string;\r\n        information[1]=this.email.string;\r\n        information[2]=this.nickname.string;\r\n        information[3]=this.password.string;\r\n\r\n        let _http = new http();\r\n        _http.register(\"/user/account\",information,(res)=>{\r\n            this.result.string='注册成功! 两秒后将自动切换到登录界面';\r\n            this.node.runAction(cc.sequence(cc.delayTime(2),cc.callFunc(function(){cc.director.loadScene('登录')})));\r\n        })\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}